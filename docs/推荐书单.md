# 操作系统学习推荐书单

## 🎯 最核心的三本（必读）

### 1. ⭐⭐⭐ Operating Systems: Three Easy Pieces (OSTEP)

- **作者**: Remzi H. Arpaci-Dusseau, Andrea C. Arpaci-Dusseau
- **价格**: 完全免费
- **在线阅读**: https://pages.cs.wisc.edu/~remzi/OSTEP/
- **中文翻译**: https://pages.cs.wisc.edu/~remzi/OSTEP/Chinese/
- **页数**: 约1000页

**为什么是第一推荐**：

- ✅ 完全免费在线阅读
- ✅ 讲解清晰，深入浅出，非常适合自学
- ✅ 理论与实践结合，配合代码示例
- ✅ 涵盖虚拟化、并发、持久化三大主题
- ✅ 每章有作业和项目

**学习建议**：

```
Checkpoint 1 前: 第13-23章 (内存虚拟化、分页)
Checkpoint 2 前: 第36-37章 (I/O设备与驱动)
Checkpoint 3 前: 第39-43章 (文件系统)
Checkpoint 4 前: 第4-6章 (进程与系统调用)
Checkpoint 5 前: 第7-10章 (CPU调度)
```

**章节目录**：

- **Part I: 虚拟化**
    - 第4-14章: 进程、进程API、调度
    - 第13-24章: 地址空间、内存API、分页、TLB
- **Part II: 并发**
    - 第26-34章: 线程、锁、条件变量、信号量
- **Part III: 持久化**
    - 第36-48章: I/O设备、文件系统、崩溃一致性

---

### 2. ⭐⭐⭐ xv6: A Simple Unix-like Teaching OS

- **作者**: MIT PDOS团队
- **价格**: 完全免费
- **源码**: https://github.com/mit-pdos/xv6-public (x86版本)
- **教材**: https://pdos.csail.mit.edu/6.828/2018/xv6/book-rev11.pdf
- **中文翻译**: https://github.com/ranxian/xv6-chinese

**为什么必读**：

- ✅ 完整的可运行操作系统（约9000行C代码）
- ✅ 代码简洁优雅，注释详细
- ✅ 与你的ECE 391项目高度相似
- ✅ 配套教材详细讲解每个模块的设计
- ✅ MIT 6.828课程的教学OS

**代码文件对照你的项目**：
| xv6文件 | 对应你的项目 | 功能 |
|---------|-------------|------|
| `vm.c` | `paging.c` | 虚拟内存管理 |
| `proc.c` | `syscall_handler.c` | 进程管理 |
| `syscall.c` | `syscall.S` | 系统调用 |
| `trap.c` | `idt_init.c` | 中断处理 |
| `fs.c` | `file_system.c` | 文件系统 |
| `console.c` | `terminal.c` | 终端驱动 |

**学习方法**：

1. 先读xv6 book了解整体设计
2. 遇到不懂的实现，查看对应源码
3. 不要直接抄代码，理解思路后自己实现

---

### 3. ⭐⭐ Intel® 64 and IA-32 Architectures Developer's Manual

- **出版**: Intel官方
- **价格**: 免费PDF下载
- **下载地址**: https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html
- **页数**: Volume 3约2000页（只需读部分章节）

**为什么必读**：

- ✅ x86架构的官方权威文档
- ✅ 你的项目涉及的所有硬件细节都在这里
- ✅ 必须参考的技术手册

**只需要读这些部分**：

- **Volume 3A: System Programming Guide (Part 1)**
    - Chapter 2: System Architecture Overview（系统架构概述）
    - Chapter 3: Protected Mode Memory Management（保护模式内存管理）
        - 3.2: GDT和LDT ← Checkpoint 1
        - 3.4: Paging（分页）← Checkpoint 1
    - Chapter 4: Paging（分页详细）← Checkpoint 1
    - Chapter 6: Interrupt and Exception Handling（中断和异常）← Checkpoint 1, 2
    - Chapter 7: Task Management（任务管理）
- **Volume 3B: System Programming Guide (Part 2)**
    - Chapter 16: I/O（输入输出）← Checkpoint 2

**使用建议**：

- 不要从头到尾读，作为参考手册使用
- 遇到具体问题时查阅对应章节
- 重点关注数据结构定义和位字段说明

---

## 📚 经典教材（二选一）

### 选项A: Operating System Concepts (恐龙书) ⭐⭐

- **作者**: Abraham Silberschatz, Peter Galvin, Greg Gagne
- **版本**: 第10版（2018年）
- **页数**: 约900页
- **价格**:
    - 英文原版: $200+
    - 中文版: ¥89（高等教育出版社）
    - 国际版: ¥150-200（影印版）

**优点**：

- 全球最广泛使用的OS教材
- 理论讲解系统全面
- 配图丰富，例子清晰
- 每章有练习题

**缺点**：

- 偏理论，代码示例较少
- 比较厚重

**重点章节**：

```
第1-2章:   导论（快速浏览）
第3章:     进程 ⭐
第4章:     线程与并发
第5-7章:   CPU调度 ⭐
第8-9章:   内存管理、虚拟内存 ⭐⭐⭐
第10章:    文件系统接口
第11-13章: 文件系统实现 ⭐⭐
第12章:    I/O系统 ⭐
```

---

### 选项B: Modern Operating Systems (现代操作系统) ⭐⭐

- **作者**: Andrew S. Tanenbaum, Herbert Bos
- **版本**: 第4版（2014年）
- **页数**: 约1100页
- **价格**:
    - 英文原版: $180+
    - 中文版: ¥89（机械工业出版社）

**优点**：

- 比恐龙书更现代
- Tanenbaum是MINIX作者（Linux的灵感来源）
- 案例研究丰富（Linux, Windows）
- 每章末有MINIX 3实现案例

**缺点**：

- 内容更多，更厚

**为什么选它**：

- 如果你想了解现代OS的设计趋势
- 喜欢看实际系统的案例分析

**重点章节**：

```
第1章:   导论
第2章:   进程与线程 ⭐
第3章:   内存管理 ⭐⭐⭐
第4章:   文件系统 ⭐⭐
第5章:   I/O ⭐
第6章:   死锁
第10章:  案例研究：Linux ⭐
```

---

## 🔧 汇编与底层编程

### PC Assembly Language ⭐

- **作者**: Paul A. Carter
- **价格**: 免费
- **PDF下载**: https://pacman128.github.io/pcasm/
- **页数**: 约200页

**内容**：

- x86汇编基础
- 32位保护模式编程
- 与C语言混合编程
- 浮点运算、位操作

**学习建议**：

- Checkpoint 1前通读第1-4章
- 作为汇编速查手册使用

---

## 📖 进阶深入（项目完成后）

### Understanding the Linux Kernel ⭐⭐⭐

- **作者**: Daniel P. Bovet, Marco Cesati
- **版本**: 第3版（Linux 2.6内核）
- **页数**: 约900页
- **价格**: 中文版 ¥99

**为什么进阶读**：

- 深入到Linux源码级别
- 讲解实际生产OS的设计决策
- 适合完成项目后理解真实OS的复杂性

**警告**：

- 内容非常硬核
- 需要有OS基础
- 建议完成ECE 391后再读

**重点章节**：

```
第2章:  内存寻址
第3章:  进程
第4章:  中断和异常
第8章:  内存管理
第9章:  进程地址空间
第10章: 系统调用
第12章: 虚拟文件系统
第17章: 页高速缓存
```

---

### The Linux Programming Interface ⭐⭐

- **作者**: Michael Kerrisk
- **页数**: 约1500页
- **价格**: 中文版 ¥158

**内容**：

- Linux系统调用详解
- 进程、线程、IPC
- 文件I/O、信号
- 超详细的系统编程手册

**适合**：

- 学习如何使用系统调用
- 理解用户态和内核态交互
- 写系统级程序

---

## 🌐 免费在线资源（替代实体书）

### OSDev Wiki ⭐⭐⭐

- **网址**: https://wiki.osdev.org/
- **特点**:
    - OS开发的百科全书
    - 实用代码示例
    - GDT、IDT、Paging等详细教程
    - 社区维护，持续更新

**必读页面**：

```
- Bare Bones          (最简单的内核)
- GDT                 (全局描述符表)
- IDT                 (中断描述符表)
- Paging              (分页)
- 8259 PIC            (中断控制器)
- Keyboard            (键盘驱动)
- RTC                 (实时时钟)
- PIT                 (定时器)
- Memory Map          (内存映射)
```

---

### The Little OS Book ⭐

- **网址**: https://littleosbook.github.io/
- **特点**:
    - 现代的OS开发教程
    - 从零开始写内核
    - 配合实际代码

---

## 📺 配套视频课程（可选）

### MIT 6.828: Operating System Engineering ⭐⭐⭐

- **网址**: https://pdos.csail.mit.edu/6.828/
- **YouTube**: https://www.youtube.com/playlist?list=PLfciLKR3SgqNJKKIKUliWoNBBH1VHL3AP
- **配套**: xv6操作系统
- **时长**: 约24讲，每讲1小时

**学习建议**：

- 跟你的项目进度同步学习
- 重点看Lecture 2-10（内存、进程、系统调用）

---

### UC Berkeley CS 162: Operating Systems ⭐⭐

- **网址**: https://cs162.org/
- **YouTube**: https://www.youtube.com/playlist?list=PLF2K2xZjNEf97A_uBCwEl61sdxWVP7VWC
- **特点**: 讲解非常清晰，适合入门

---

## 🎯 推荐购买优先级

### 预算有限（学生党）

```
✅ 免费资源：
1. OSTEP在线版（必读）
2. xv6源码和book（必读）
3. Intel手册PDF（必读）
4. OSDev Wiki（随时查）

💰 只买一本：
→ 《操作系统概念》中文版 (¥89)
```

### 预算充足

```
📚 基础阶段：
1. 《操作系统概念》或《现代操作系统》(¥89)
2. 《深入理解计算机系统》CSAPP (¥139) ← 更广的系统基础

📚 进阶阶段：
3. 《深入理解Linux内核》(¥99)
4. 《Linux内核设计与实现》(¥79)

总计：约¥400-500
```

---

## 📅 学习时间规划

### 第1-2周（Checkpoint 1前）

- [ ] OSTEP: 第13-23章（内存虚拟化）- 20小时
- [ ] PC Assembly Language: 第1-4章 - 5小时
- [ ] xv6 book: 第2章（内存）- 3小时
- [ ] Intel手册: Volume 3, Chapter 3-4（分页）- 5小时

### 第3-4周（Checkpoint 2前）

- [ ] OSTEP: 第36-37章（I/O）- 5小时
- [ ] OSDev Wiki: 8259 PIC, Keyboard, RTC - 5小时
- [ ] Intel手册: Volume 3, Chapter 6（中断）- 5小时

### 第5-6周（Checkpoint 3前）

- [ ] OSTEP: 第39-43章（文件系统）- 10小时
- [ ] xv6 book: 第6章（文件系统）- 3小时
- [ ] xv6源码: fs.c分析 - 3小时

### 第7-9周（Checkpoint 4前）

- [ ] OSTEP: 第4-6章（进程）- 10小时
- [ ] xv6 book: 第3-5章（系统调用、trap）- 5小时
- [ ] xv6源码: proc.c, syscall.c分析 - 5小时
- [ ] ELF格式文档 - 2小时

### 第10-12周（Checkpoint 5前）

- [ ] OSTEP: 第7-10章（调度）- 10小时
- [ ] xv6源码: trap.c, proc.c（调度部分）- 3小时

---

## 💡 学习建议

### 正确的学习方法

1. ✅ **理论+实践结合**：边读书边写代码
2. ✅ **遇到问题查资料**：不要死磕，多查多问
3. ✅ **参考但不抄袭**：理解思路后自己实现
4. ✅ **写学习笔记**：整理关键概念
5. ✅ **与同学讨论**：不同视角有新发现

### 错误的学习方法

1. ❌ 只读书不写代码
2. ❌ 把书从头到尾读一遍再开始项目
3. ❌ 直接抄GitHub上的代码
4. ❌ 遇到bug不调试就放弃
5. ❌ 孤军奋战不与人交流

---

## 📝 读书笔记模板

建议为每个重要概念做笔记：

```markdown
## 概念：分页（Paging）

### 是什么

- 将虚拟内存和物理内存分成固定大小的块
- 虚拟块叫页（Page），物理块叫页框（Frame）
- 通过页表（Page Table）映射

### 为什么需要

- 解决内存碎片问题
- 实现虚拟内存
- 进程间内存隔离

### 怎么实现

1. 创建页目录和页表
2. 设置CR3寄存器指向页目录
3. 设置CR0的PG位启用分页

### 关键数据结构

- 页目录项（PDE）
- 页表项（PTE）

### 代码位置

- `paging.c: init_paging()`
- `paging.c: set_up_PD_PT()`

### 参考资料

- OSTEP第18-23章
- Intel手册Vol3 Ch4
- xv6: vm.c
```

---

## 🔗 所有链接汇总

| 资源                | 链接                                                                                  |
|-------------------|-------------------------------------------------------------------------------------|
| OSTEP在线版          | https://pages.cs.wisc.edu/~remzi/OSTEP/                                             |
| OSTEP中文版          | https://pages.cs.wisc.edu/~remzi/OSTEP/Chinese/                                     |
| xv6源码(x86)        | https://github.com/mit-pdos/xv6-public                                              |
| xv6教材PDF          | https://pdos.csail.mit.edu/6.828/2018/xv6/book-rev11.pdf                            |
| xv6中文翻译           | https://github.com/ranxian/xv6-chinese                                              |
| Intel手册           | https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html |
| PC Assembly Lang  | https://pacman128.github.io/pcasm/                                                  |
| OSDev Wiki        | https://wiki.osdev.org/                                                             |
| Little OS Book    | https://littleosbook.github.io/                                                     |
| MIT 6.828课程       | https://pdos.csail.mit.edu/6.828/                                                   |
| UC Berkeley CS162 | https://cs162.org/                                                                  |
| Linux源码浏览         | https://elixir.bootlin.com/linux/latest/source                                      |

---

## ✅ 最小必读清单（如果只读3个）

**如果你时间非常紧张，只读这三个就够完成项目了**：

### 1️⃣ OSTEP对应章节

- 根据checkpoint进度选择性阅读
- 估计需要40小时

### 2️⃣ xv6源码+教材

- 重点看与你项目相关的文件
- 估计需要20小时

### 3️⃣ Intel手册选读章节

- 只读上面列出的关键章节
- 估计需要10小时

**总计约70小时阅读 + 代码实践时间**

这三个资源都是免费的，配合OSDev Wiki随时查询，足够完成整个ECE 391项目！

---

## 🎓 总结

**最佳学习路径**：

```
OSTEP理论 → xv6实现参考 → 自己动手写 → 遇到问题查Intel手册/OSDev Wiki
```

**投入产出比最高**：

- 免费资源（OSTEP + xv6 + Intel手册）已经够用
- 如果要买书，优先《操作系统概念》或《现代操作系统》
- 进阶再考虑《深入理解Linux内核》

**记住**：
> 读100本书不如写1个OS！边学边做，项目驱动学习！

---

**文档更新**: 2025-11-21
**作者**: Claude
**用途**: ECE 391 MP3 项目学习指南
